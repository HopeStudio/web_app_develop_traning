# 第1章：Web应用的基本架构

准备工作：
- 我们需要一个Chrome浏览器，如果你喜欢FirFox、Edge或是Opera，也没问题。对于saferi用户，请进入*偏好设置-高级*，找到选项：“*在菜单栏中显示“开发”菜单*”，勾选。若你使用其它浏览器，我建议你放弃它并下载一个Chrome。
- 你需要一个代码编辑器，对于没有开发经验的同学，推荐的有[VS Code](https://code.visualstudio.com/)、[Sublime Text](https://www.sublimetext.com/)和[Atom](https://atom.io/)。别纠结哪个更棒，选一个看上去顺眼的就好。当然你也可以选择在线编辑器，推荐[JS Bin](https://jsbin.com/)。

---

## 我们看到的是什么

当我们随便打开一个网站，例如大名鼎鼎的[Github](https://github.com)，我们看到的，究竟是什么？

其实你所看到的一切，本质都是一个个HTML文件，何谓HTML？HTML就是一种超文本标记语言（HyperText Markup Language）。之所以称为超文本，就是因为它能携带文本之外的东西，例如图片，视频，其它页面的链接等。

现在让我们打开[Github](https://github.com)，点击右键，选择*检查*（在有些浏览器中可能是*检查元素或其它字眼*），我们就打开了开发者调试工具，选择元素(Elements)标签，我们就看到了这个网站的HTML文件。现在，让我们在HTML代码上移动鼠标，我们就能看到一行行代码在页面中对应着什么，这对于理解HTML很有帮助，如果你对HTML是什么尚不清楚，请务必试试看。

![开发者工具](http://oanr6klwj.bkt.clouddn.com/book/web_app/web_dev_tool.png)

---
## 何谓前后端
那么在我们刚才从输入网址到返回我们看到的页面期间，都发生了什么？

1. 浏览器解析github.com这个URL（俗称网址），确定它在互联网中的位置
2. 浏览器发送一个HTTP请求给拥有该域名的服务器
3. 服务器解析发来的请求并进行处理，如果涉及数据，就去数据库读写数据
4. 服务器将处理后的结果，在这里是一个HTML文档返回给浏览器
5. 浏览器收到结果，通过该HTML文档构建出Github首页的页面

### 前端
前文中的第5点其实就在前端的工作范畴之中，前端的工作包括但不限于：
- 描述组成页面的元素
- 这些元素的样式
- 页面与用户交互（例如输入密码、点击按钮）时页面的响应
- 规定从后端获取数据，并将获取的数据展示在页面中（例如登陆后你的个人名片中展示的昵称和头像等信息）

###后端
后端也叫服务端，因为后端编写的应用往往在服务器上运行。后端工作的核心在于：处理浏览器发送的请求。这一工作往往与数据和逻辑有关。前文中的第3、4点都是后端的工作，再举几个简单的例子：
- 将数据写入或取出数据库
- 规定访问某个链接时返回的页面
- 判断是否登陆成功
- 返回请求的数据

---
## 动静有别
人们常常说，网站有静态和动态的，它们之间的区别是什么？

不同的人访问同一个静态页面时，看到的结果往往是相同的，它们一般都是作为一个文件存放在服务器上的。例如[我的博客](lovin0730.github.io)，它们的特点是数据更新缓慢，相对稳定。

而动态页面往往是后端程序运行后编译的结果，例如当我们访问[微博](weibo.com)，看到的热点新闻可能十分钟后再次访问时就被更新的消息代替了。这是因为后端程序会不停的运行分析，获取新消息，然后根据分析结果来帮我们决定哪个消息更值得被看到，并进行推送。

---
## 基本架构
综上，一个Web应用的基本架构就清晰了，如图：

![Web应用基本架构](http://oanr6klwj.bkt.clouddn.com/book/web_app/web_struct.png)

- 用户通过操作制造前端请求发送到后端
- 后端处理请求，读写数据
- 把请求返回给前端
- 前端根据返回内容渲染出页面给用户